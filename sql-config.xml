<query-bundle>
    <connections name="file">
        <!--предоставляется сторонней настройкой приложения-->
        <connection name="test"/>
        <!--зашивается конкретно для текущего файла-->
        <connection name="extend">
            <url></url>
            <driver-class></driver-class>
            <user></user>
            <password></password>
        </connection>
    </connections>

    <data-sets name="file">
        <!--набор данных, который необходим от пользователя-->
        <data-set name="anyone" type="form">
            <field>test</field>
            <field>привет</field>
        </data-set>

        <!--набор данных, который указывается сразу в файл-->
        <data-set name="anyone" type="static">
            <field>
                <key>test</key>
                <value>test</value>
            </field>
            <field>
                <key>привет</key>
                <value>test</value>
            </field>
        </data-set>

        <!--набор данных, который получается из запроса, для этого запрос должен возвращать data set c таким именем-->
        <data-set name="hello" type="query">
            <field>test</field>
            <field>привет</field>
        </data-set>

        <!--набор данных из скрипта, причем может быть откуда угодна-->
        <data-set name="test" type="script" source="text">
            <field>test</field>
            <field>привет</field>
        </data-set>
    </data-sets>

    <query connection="test">
        <!--указывается набор данных, который будет подставляться в запрос-->
        <data-set type="input" name="anyone">
            <!--указывается обработчик, который отвечает за трансформацию данных перед постановкой-->
            <pre-process>ru.ezhov.Test</pre-process>
        </data-set>

        <!--набор данных на выходе, обязательно запрос должен возвращать result set.-->
        <!--и постпроцесс который обрабатывает данные-->
        <data-set type="output" name="anyone">
            <post-process>ru.ezhov.Hello</post-process>
        </data-set>


        <text source="file" type="script" lang="groovy">
            <!--Например путь к файлу, который выполнится как скрипт и возвратит текст запроса-->
            E:/бла-бла.groovy
        </text>

        <text source="text" type="query">
            <!--Текст прямо здесь-->
            select * from ${anyone.test}
        </text>
    </query>
</query-bundle>
